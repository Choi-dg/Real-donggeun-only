def kelly_fraction(p: float, r: float) -> float:
    return p - (1 - p) / r
